# Arbitrum Timeboost

A Helm chart for [Timeboost](https://forum.arbitrum.foundation/t/constitutional-aip-proposal-to-adopt-timeboost-a-new-transaction-ordering-policy/25167).

## Parameters

## Configuration Options
The following table lists the exhaustive configurable parameters that can be applied as part of the configmap (nested under `configmap.data`) or as standalone cli flags.

Option                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                         | Default
-----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------
`auctioneer-server.auction-contract-address`                     | string                    express lane auction contract address                                                                                                                                                                                                                                                                                                                                     | None
`auctioneer-server.auction-resolution-wait-time`                 | duration              wait time after auction closing before resolving the auction                                                                                                                                                                                                                                                                                                                  | `2s`
`auctioneer-server.consumer-config.idletime-to-autoclaim`        | duration     After a message spends this amount of time in PEL (Pending Entries List i.e claimed by another consumer but not Acknowledged) it will be allowed to be autoclaimed by other consumers                                                                                                                                                                                                  | `5m0s`
`auctioneer-server.consumer-config.response-entry-timeout`       | duration    timeout for response entry                                                                                                                                                                                                                                                                                                                                                              | `1h0m0s`
`auctioneer-server.db-directory`                                 | string                                path to database directory for persisting validated bids in a sqlite file                                                                                                                                                                                                                                                                                     | None
`auctioneer-server.enable`                                       | enable auctioneer server                                                                                                                                                                                                                                                                                                                                                                            | `true`
`auctioneer-server.redis-url`                                    | string                                   url of redis server                                                                                                                                                                                                                                                                                                                                        | None
`auctioneer-server.sequencer-endpoint`                           | string                          sequencer RPC endpoint                                                                                                                                                                                                                                                                                                                                              | None
`auctioneer-server.sequencer-jwt-path`                           | string                          sequencer jwt file path                                                                                                                                                                                                                                                                                                                                             | None
`auctioneer-server.stream-timeout`                               | duration                            Timeout on polling for existence of redis streams                                                                                                                                                                                                                                                                                                               | `10m0s`
`auctioneer-server.wallet.account`                               | string                              account to use                                                                                                                                                                                                                                                                                                                                                  | `is first account in keystore`
`auctioneer-server.wallet.only-create-key`                       | if true, creates new key then exits                                                                                                                                                                                                                                                                                                                                                                 | None
`auctioneer-server.wallet.password`                              | string                             wallet passphrase                                                                                                                                                                                                                                                                                                                                                | `PASSWORD_NOT_SET`
`auctioneer-server.wallet.pathname`                              | string                             pathname for wallet                                                                                                                                                                                                                                                                                                                                              | `wallet for auctioneer server`
`auctioneer-server.wallet.private-key`                           | string                          private key for wallet                                                                                                                                                                                                                                                                                                                                              | None
`bid-validator.auction-contract-address`                         | string                        express lane auction contract address                                                                                                                                                                                                                                                                                                                                 | None
`bid-validator.enable`                                           | enable bid validator                                                                                                                                                                                                                                                                                                                                                                                | `true`
`bid-validator.producer-config.check-result-interval`            | duration         interval in which producer checks pending messages whether consumer processing them is inactive                                                                                                                                                                                                                                                                                    | `5s`
`bid-validator.producer-config.request-timeout`                  | duration               timeout after which the message in redis stream is considered as errored, this prevents workers from working on wrong requests indefinitely                                                                                                                                                                                                                                  | `3h0m0s`
`bid-validator.redis-url`                                        | string                                       url of redis server                                                                                                                                                                                                                                                                                                                                    | None
`bid-validator.sequencer-endpoint`                               | string                              sequencer RPC endpoint                                                                                                                                                                                                                                                                                                                                          | None
`conf.dump`                                                      | print out currently active configuration file                                                                                                                                                                                                                                                                                                                                                       | None
`conf.env-prefix`                                                | string                                               environment variables with given prefix will be loaded as configuration values                                                                                                                                                                                                                                                                 | None
`conf.file`                                                      | strings                                                    name of configuration file                                                                                                                                                                                                                                                                                                               | None
`conf.reload-interval`                                           | duration                                        how often to reload configuration (0=disable periodic reloading)                                                                                                                                                                                                                                                                                    | None
`conf.s3.access-key`                                             | string                                            S3 access key                                                                                                                                                                                                                                                                                                                                     | None
`conf.s3.bucket`                                                 | string                                                S3 bucket                                                                                                                                                                                                                                                                                                                                     | None
`conf.s3.object-key`                                             | string                                            S3 object key                                                                                                                                                                                                                                                                                                                                     | None
`conf.s3.region`                                                 | string                                                S3 region                                                                                                                                                                                                                                                                                                                                     | None
`conf.s3.secret-key`                                             | string                                            S3 secret key                                                                                                                                                                                                                                                                                                                                     | None
`conf.string`                                                    | string                                                   configuration as JSON string                                                                                                                                                                                                                                                                                                               | None
`file-logging.buf-size`                                          | int                                            size of intermediate log records buffer                                                                                                                                                                                                                                                                                                              | `512`
`file-logging.compress`                                          | enable compression of old log files                                                                                                                                                                                                                                                                                                                                                                 | `true`
`file-logging.enable`                                            | enable logging to file                                                                                                                                                                                                                                                                                                                                                                              | `true`
`file-logging.file`                                              | string                                             path to log file                                                                                                                                                                                                                                                                                                                                 | `nitro.log`
`file-logging.local-time`                                        | if true: local time will be used in old log filename timestamps                                                                                                                                                                                                                                                                                                                                     | None
`file-logging.max-age`                                           | int                                             maximum number of days to retain old log files based on the timestamp encoded in their filename (0 = no limit)                                                                                                                                                                                                                                      | None
`file-logging.max-backups`                                       | int                                         maximum number of old log files to retain (0 = no limit)                                                                                                                                                                                                                                                                                                | `20`
`file-logging.max-size`                                          | int                                            log file size in Mb that will trigger log file rotation (0 = trigger disabled)                                                                                                                                                                                                                                                                       | `5`
`http.addr`                                                      | string                                                     HTTP-RPC server listening interface                                                                                                                                                                                                                                                                                                      | None
`http.api`                                                       | strings                                                     APIs offered over the HTTP-RPC interface                                                                                                                                                                                                                                                                                                | `[net,web3,eth,arb]`
`http.corsdomain`                                                | strings                                              Comma separated list of domains from which to accept cross origin requests (browser enforced)                                                                                                                                                                                                                                                  | None
`http.port`                                                      | int                                                        HTTP-RPC server listening port                                                                                                                                                                                                                                                                                                           | `8547`
`http.rpcprefix`                                                 | string                                                HTTP path path prefix on which JSON-RPC is served. Use '/' to serve on all paths                                                                                                                                                                                                                                                              | None
`http.server-timeouts.idle-timeout`                              | duration                           the maximum amount of time to wait for the next request when keep-alives are enabled (http.Server.IdleTimeout)                                                                                                                                                                                                                                                   | `2m0s`
`http.server-timeouts.read-header-timeout`                       | duration                    the amount of time allowed to read the request headers (http.Server.ReadHeaderTimeout)                                                                                                                                                                                                                                                                                  | `30s`
`http.server-timeouts.read-timeout`                              | duration                           the maximum duration for reading the entire request (http.Server.ReadTimeout)                                                                                                                                                                                                                                                                                    | `30s`
`http.server-timeouts.write-timeout`                             | duration                          the maximum duration before timing out writes of the response (http.Server.WriteTimeout)                                                                                                                                                                                                                                                                          | `30s`
`http.vhosts`                                                    | strings                                                  Comma separated list of virtual hostnames from which to accept requests (server enforced). Accepts '*' wildcard                                                                                                                                                                                                                            | `[localhost]`
`ipc.path`                                                       | string                                                      Requested location to place the IPC endpoint. An empty path disables IPC.                                                                                                                                                                                                                                                               | None
`log-level`                                                      | string                                                     log level, valid values are CRIT, ERROR, WARN, INFO, DEBUG, TRACE                                                                                                                                                                                                                                                                        | `INFO`
`log-type`                                                       | string                                                      log type (plaintext or json)                                                                                                                                                                                                                                                                                                            | `plaintext`
`metrics`                                                        | enable metrics                                                                                                                                                                                                                                                                                                                                                                                      | None
`metrics-server.addr`                                            | string                                           metrics server address                                                                                                                                                                                                                                                                                                                             | `127.0.0.1`
`metrics-server.port`                                            | int                                              metrics server port                                                                                                                                                                                                                                                                                                                                | `6070`
`metrics-server.update-interval`                                 | duration                              metrics server update interval                                                                                                                                                                                                                                                                                                                                | `3s`
`persistent.ancient`                                             | string                                            directory of ancient where the chain freezer can be opened                                                                                                                                                                                                                                                                                        | None
`persistent.chain`                                               | string                                              directory to store chain state                                                                                                                                                                                                                                                                                                                  | None
`persistent.db-engine`                                           | string                                          backing database implementation to use. If set to empty string the database type will be autodetected and if no pre-existing database is found it will default to creating new pebble database ('leveldb', 'pebble' or '' = auto-detect)                                                                                                            | None
`persistent.global-config`                                       | string                                      directory to store global config                                                                                                                                                                                                                                                                                                                        | `.arbitrum`
`persistent.handles`                                             | int                                               number of file descriptor handles to use for the database                                                                                                                                                                                                                                                                                         | `512`
`persistent.log-dir`                                             | string                                            directory to store log file                                                                                                                                                                                                                                                                                                                       | None
`persistent.pebble.experimental.block-size`                      | int                        target uncompressed size in bytes of each table block                                                                                                                                                                                                                                                                                                                    | `4096`
`persistent.pebble.experimental.bytes-per-sync`                  | int                    number of bytes to write to a SSTable before calling Sync on it in the background                                                                                                                                                                                                                                                                                            | `524288`
`persistent.pebble.experimental.compaction-debt-concurrency`     | uint      controls the threshold of compaction debt at which additional compaction concurrency slots are added. For every multiple of this value in compaction debt bytes, an additional concurrent compaction is added. This works "on top" of l0-compaction-concurrency, so the higher of the count of compaction concurrency slots as determined by the two options is chosen.                   | `1073741824`
`persistent.pebble.experimental.disable-automatic-compactions`   | disables automatic compactions                                                                                                                                                                                                                                                                                                                                                                      | None
`persistent.pebble.experimental.force-writer-parallelism`        | force parallelism in the sstable Writer for the metamorphic tests. Even with the MaxWriterConcurrency option set, pebble only enables parallelism in the sstable Writer if there is enough CPU available, and this option bypasses that.                                                                                                                                                            | None
`persistent.pebble.experimental.index-block-size`                | int                  target uncompressed size in bytes of each index block. When the index block size is larger than this target, two-level indexes are automatically enabled. Setting this option to a large value (such as 2147483647) disables the automatic creation of two-level indexes.                                                                                                      | `4096`
`persistent.pebble.experimental.l-base-max-bytes`                | int                  The maximum number of bytes for LBase. The base level is the level which L0 is compacted into. The base level is determined dynamically based on the existing data in the LSM. The maximum number of bytes for other levels is computed dynamically based on the base level's maximum size. When the maximum number of bytes for a level is exceeded, compaction is requested. | `67108864`
`persistent.pebble.experimental.l0-compaction-concurrency`       | int         threshold of L0 read-amplification at which compaction concurrency is enabled (if compaction-debt-concurrency was not already exceeded). Every multiple of this value enables another concurrent compaction up to max-concurrent-compactions.                                                                                                                                           | `10`
`persistent.pebble.experimental.l0-compaction-file-threshold`    | int      count of L0 files necessary to trigger an L0 compaction                                                                                                                                                                                                                                                                                                                                    | `500`
`persistent.pebble.experimental.l0-compaction-threshold`         | int           amount of L0 read-amplification necessary to trigger an L0 compaction                                                                                                                                                                                                                                                                                                                 | `4`
`persistent.pebble.experimental.l0-stop-writes-threshold`        | int          hard limit on L0 read-amplification, computed as the number of L0 sublevels. Writes are stopped when this threshold is reached                                                                                                                                                                                                                                                         | `12`
`persistent.pebble.experimental.max-writer-concurrency`          | int            maximum number of compression workers the compression queue is allowed to use. If max-writer-concurrency > 0, then the Writer will use parallelism, to compress and write blocks to disk. Otherwise, the writer will compress and write blocks to disk synchronously.                                                                                                                | None
`persistent.pebble.experimental.mem-table-stop-writes-threshold` | int   hard limit on the number of queued of MemTables                                                                                                                                                                                                                                                                                                                                               | `2`
`persistent.pebble.experimental.read-compaction-rate`            | AllowedSeeks     controls the frequency of read triggered compactions by adjusting AllowedSeeks in manifest.FileMetadata: AllowedSeeks = FileSize / ReadCompactionRate                                                                                                                                                                                                                              | `16000`
`persistent.pebble.experimental.read-sampling-multiplier`        | int          a multiplier for the readSamplingPeriod in iterator.maybeSampleRead() to control the frequency of read sampling to trigger a read triggered compaction. A value of -1 prevents sampling and disables read triggered compactions. Geth default is -1. The pebble default is 1 << 4. which gets multiplied with a constant of 1 << 16 to yield 1 << 20 (1MB).                            | `-1`
`persistent.pebble.experimental.target-byte-deletion-rate`       | int         rate (in bytes per second) at which sstable file deletions are limited to (under normal circumstances).                                                                                                                                                                                                                                                                                 | None
`persistent.pebble.experimental.target-file-size`                | int                  target file size for the level 0                                                                                                                                                                                                                                                                                                                                               | `2097152`
`persistent.pebble.experimental.target-file-size-equal-levels`   | if true same target-file-size will be uses for all levels, otherwise target size for layer n = 2 * target size for layer n - 1                                                                                                                                                                                                                                                                      | `true`
`persistent.pebble.experimental.wal-bytes-per-sync`              | int                number of bytes to write to a write-ahead log (WAL) before calling Sync on it in the background                                                                                                                                                                                                                                                                                  | None
`persistent.pebble.experimental.wal-dir`                         | string                        absolute path of directory to store write-ahead logs (WALs) in. If empty, WALs will be stored in the same directory as sstables                                                                                                                                                                                                                                       | None
`persistent.pebble.experimental.wal-min-sync-interval`           | int             minimum duration in microseconds between syncs of the WAL. If WAL syncs are requested faster than this interval, they will be artificially delayed.                                                                                                                                                                                                                                 | None
`persistent.pebble.max-concurrent-compactions`                   | int                     maximum number of concurrent compactions                                                                                                                                                                                                                                                                                                                                    | `10`
`pprof`                                                          | enable pprof                                                                                                                                                                                                                                                                                                                                                                                        | None
`pprof-cfg.addr`                                                 | string                                                pprof server address                                                                                                                                                                                                                                                                                                                          | `127.0.0.1`
`pprof-cfg.port`                                                 | int                                                   pprof server port                                                                                                                                                                                                                                                                                                                             | `6071`
`ws.addr`                                                        | string                                                       WS-RPC server listening interface                                                                                                                                                                                                                                                                                                      | None
`ws.api`                                                         | strings                                                       APIs offered over the WS-RPC interface                                                                                                                                                                                                                                                                                                | `[net,web3,eth,arb]`
`ws.expose-all`                                                  | expose private api via websocket                                                                                                                                                                                                                                                                                                                                                                    | None
`ws.origins`                                                     | strings                                                   Origins from which to accept websockets requests                                                                                                                                                                                                                                                                                          | None
`ws.port`                                                        | int                                                          WS-RPC server listening port                                                                                                                                                                                                                                                                                                           | `8548`
`ws.rpcprefix`                                                   | string                                                  WS path path prefix on which JSON-RPC is served. Use '/' to serve on all paths                                                                                                                                                                                                                                                              | None

